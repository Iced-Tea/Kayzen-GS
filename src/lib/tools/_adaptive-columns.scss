//-----------------------------------------------------------------
// Adaptive Columns
//-----------------------------------------------------------------

@mixin kgs-adaptive-columns {
    
    // Reverse $breakpoints map
    // This is to allow the generated CSS to override when scaling
    $reverse-breakpoints: if(
        setting(mobile-first),
        kayzenGS(breakpoints),
        reverse-map(kayzenGS(breakpoints))
    );

    > [class*="#{option('col-namespace')}"] {
    
        &[class*="break"] {
            @include kgs-column-core;
            @include kgs-gutter($flush: false);
        }
        
        @each $bp, $width in $reverse-breakpoints {
            @media (#{$scale}-width: $width) {
                @each $name, $fraction in kayzenGS(fractions) {		
                    &.#{$bp}-#{$name} {
                        width: flow-column-width(nth($fraction, 1), nth($fraction, 2));
                    }
                }
            }
        }
    
    }

}